{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lang/lang-en.json","webpack:///./src/lang/lang-ru.json","webpack:///./src/lang/lang-by.json","webpack:///./src/helpers/convertTemp.js","webpack:///./src/models/GeoModel.js","webpack:///./src/helpers/getTime.js","webpack:///./src/views/TodayWeatherView.js","webpack:///./src/helpers/getDate.js","webpack:///./src/views/ThreeDayWeatherView.js","webpack:///./src/views/MapView.js","webpack:///./src/helpers/translate.js","webpack:///./src/views/AppView.js","webpack:///./src/views/HeaderView.js","webpack:///./src/views/SpeechBtnView.js","webpack:///./src/lang/getLangMap.js","webpack:///./src/views/CoordView.js","webpack:///./src/views/index.js","webpack:///./src/helpers/parseFlickrImg.js","webpack:///./src/helpers/checkStatus.js","webpack:///./src/helpers/failureCallback.js","webpack:///./src/models/AppModel.js","webpack:///./src/helpers/parseWeather.js","webpack:///./src/helpers/speech-input.js","webpack:///./src/app.js","webpack:///./src/controllers/AppController.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","convertToFarengeit","temp","Math","round","convertToCelsius","Geo","constructor","city","this","coord","ymaps","geocode","results","then","res","firstGeoObject","geoObjects","undefined","geometry","getCoordinates","properties","_data","metaDataProperty","GeocoderMetaData","Address","Components","async","getTime","url","time","fetch","json","data","formatted","date","Date","hours","getHours","mins","getMinutes","renderTodayWeatherBlock","obj","todayWeather","document","createElement","className","twCity","innerHTML","country","twDate","lang","format","now","moment","getTodayDate","twTime","timezome","twBlock","twPicture","src","weather","icon","twTemp","appendChild","addInfo","feelsLike","feelsLikeDeg","feels","wind","windDeg","innerText","humidity","humidityDeg","renderAnotherDayWeatherBlocks","day","dayHeader","plusDay","add","getnotTodayDate","dayTemp","dayPicture","dayDeg","Map","ready","center","zoom","searchControlProvider","translate","str","direction","text","AppView","imageUrl","langMap","preload","body","wrap","header","leftControls","updateImg","langs","lang1","lang2","lang3","btnTempC","btnTempF","rightControls","inputSearch","type","placeholder","btnSearch","renderHeader","window","inputEl","querySelector","micBtn","micIcon","holderIcon","newWrapper","nextNode","nextSibling","parent","parentNode","inputRightBorder","parseInt","getComputedStyle","borderRightWidth","buttonSize","dataset","buttonsize","offsetHeight","wrapper","classList","contains","removeChild","textContent","style","cursor","top","height","width","paddingRight","insertBefore","renderSpeechBtn","main","remove","path","enMap","ruMap","byMap","getLangMap","btn","nameCity","dayHeder","querySelectorAll","Array","slice","forEach","el","windspeed","lat","lon","backgroundImage","msg","clearPage","error","errorHearer","errorMessage","display","renderPage","renderMainBlock","renderMap","renderWeather","clearWeather","prepend","renderWeatherBlock","location","map","id","coordBlock","latitude","longitude","renderCoordBlock","threeDaysBlock","renderThreeDaysWeatherBlock","parseWeather","response","min","max","rand","random","floor","randomInteger","photos","photo","length","farm","server","secret","renderError","checkStatus","status","console","log","statusText","Error","failureCallback","api","AppModel","keys","timezone","ipToken","ipInfo","catch","e","getCity","fallout","flirckKey","stat","parseFlickrImg","message","getGeoCoord","getCountry","openweathermapKey","cod","list","speed","dayWeather","push","getQuery","VoiceRecognition","SpeechRecognition","startRecognizer","app","result","recognition","webkitSpeechRecognition","onresult","event","resultIndex","transcript","indexOf","reload","onend","start","unplashAccessKey","translateYandexKey","initPage","model","getIP","getWeather","getImage","refreshBackgroundImg","refreshTime","selectLang","selectedlang","options","selectedIndex","view","changeLang","renderTemperature","convert","inputQuery","submitQuery","buttonTempFar","buttonTempCel","btnResetActive","addEventListener","changeLlang","refreshBackImg","keyCode","microphBtn","setInterval","preventDefault"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n","module.exports = __webpack_public_path__ + \"lang-en.json\";","module.exports = __webpack_public_path__ + \"lang-ru.json\";","module.exports = __webpack_public_path__ + \"lang-by.json\";","function convertToFarengeit(temp) {\r\n  return Math.round((9 / 5) * temp + 32);\r\n}\r\n\r\nfunction convertToCelsius(temp) {\r\n  return Math.round((5 / 9) * (temp - 32));\r\n}\r\n\r\nexport {\r\n  convertToFarengeit,\r\n  convertToCelsius,\r\n};\r\n","/* eslint-disable indent */\r\n/* eslint-disable no-undef */\r\nexport default class Geo {\r\n  constructor(city) {\r\n    this.city = city;\r\n  }\r\n\r\n  static async getGeoCoord(city) {\r\n    const coord = await ymaps.geocode(city, {\r\n        results: 1,\r\n      })\r\n      .then((res) => {\r\n        const firstGeoObject = res.geoObjects.get(0);\r\n        if (firstGeoObject !== undefined) {\r\n          return firstGeoObject.geometry.getCoordinates();\r\n        }\r\n        return firstGeoObject;\r\n      });\r\n    if (coord !== undefined) return coord;\r\n    return false;\r\n  }\r\n\r\n  static async getCountry(coord) {\r\n    const response = await ymaps.geocode(coord, {\r\n      results: 1,\r\n    }).then(res => res);\r\n\r\n    return response.geoObjects.get(0).properties._data\r\n      .metaDataProperty.GeocoderMetaData.Address.Components[0].name;\r\n  }\r\n}\r\n","export default async function getTime(coord) {\r\n  const key = '18WHARD25R8O';\r\n\r\n  const url = `https://api.timezonedb.com/v2.1/get-time-zone?key=${key}&format=json&by=position&lat=${coord[0]}&lng=${coord[1]}`;\r\n  const response = await fetch(url)\r\n    .then(res => res.json())\r\n    .then(data => data);\r\n  const time = response.formatted;\r\n  const date = new Date(time);\r\n\r\n  const hours = date.getHours();\r\n  const mins = date.getMinutes();\r\n  // const secs = date.getSeconds();\r\n  let temp = ((hours < 10) ? '0' : '') + hours;\r\n  temp += ((mins < 10) ? ':0' : ':') + mins;\r\n  // temp += ((secs < 10) ? ':0' : ':') + secs;\r\n\r\n  return temp;\r\n}\r\n","import {\r\n  getTodayDate,\r\n} from '../helpers/getDate';\r\n\r\nexport default function renderTodayWeatherBlock(obj) {\r\n  const todayWeather = document.createElement('div');\r\n  todayWeather.className = 'today-weather';\r\n\r\n  const twCity = document.createElement('h3');\r\n  twCity.className = 'today-weather__city';\r\n  twCity.innerHTML = `${obj.city}, ${obj.country}`; // arg\r\n\r\n\r\n  const twDate = document.createElement('p');\r\n  twDate.className = 'today-weather__date';\r\n  twDate.innerHTML = getTodayDate('ru', 'dddd, MMMM DD YYYY');\r\n  const twTime = document.createElement('p');\r\n  twTime.className = 'today-weather__time';\r\n  twTime.innerHTML = obj.timezome;\r\n\r\n  const twBlock = document.createElement('div');\r\n  twBlock.className = 'today-weather__temp flex-row';\r\n  const twPicture = document.createElement('img');\r\n  twPicture.className = 'today-weather__picture';\r\n  twPicture.src = obj.weather.icon;\r\n  const twTemp = document.createElement('h2');\r\n  twTemp.innerHTML = `${obj.weather.temp}°`; // arg\r\n  twBlock.appendChild(twPicture);\r\n  twBlock.appendChild(twTemp);\r\n\r\n\r\n  const addInfo = document.createElement('div');\r\n  addInfo.className = 'add-info';\r\n  const feelsLike = document.createElement('p');\r\n  feelsLike.className = 'feels';\r\n  feelsLike.innerHTML = 'Feels like: ';\r\n  const feelsLikeDeg = document.createElement('span');\r\n  feelsLikeDeg.innerHTML = `${obj.weather.feels}°`; // arg\r\n  feelsLike.appendChild(feelsLikeDeg);\r\n\r\n  const wind = document.createElement('p');\r\n  wind.className = 'wind';\r\n  wind.innerHTML = 'Wind: ';\r\n  const windDeg = document.createElement('span');\r\n  windDeg.innerHTML = obj.weather.wind; // arg\r\n  wind.appendChild(windDeg);\r\n  wind.innerText += ' m/s';\r\n\r\n  const humidity = document.createElement('p');\r\n  humidity.innerHTML = 'Humidity: ';\r\n  humidity.className = 'humidity';\r\n  const humidityDeg = document.createElement('span');\r\n  humidityDeg.innerHTML = obj.weather.humidity; // arg\r\n  humidity.appendChild(humidityDeg);\r\n  humidity.innerText += ' %';\r\n\r\n  addInfo.appendChild(feelsLike);\r\n  addInfo.appendChild(wind);\r\n  addInfo.appendChild(humidity);\r\n\r\n  todayWeather.appendChild(twCity);\r\n  todayWeather.appendChild(twDate);\r\n  todayWeather.appendChild(twTime);\r\n  todayWeather.appendChild(twBlock);\r\n  todayWeather.appendChild(addInfo);\r\n\r\n  return todayWeather;\r\n}\r\n","/* eslint-disable no-undef */\r\n\r\nfunction getTodayDate(lang, format) {\r\n  const now = moment();\r\n  moment.lang(lang);\r\n\r\n  return now.format(format);\r\n}\r\n\r\nfunction getnotTodayDate(lang, format, plusDay) {\r\n  const now = moment();\r\n  moment.lang(lang);\r\n\r\n  return now.add(plusDay + 1, 'days').format(format);\r\n}\r\n\r\nexport {\r\n  getTodayDate,\r\n  getnotTodayDate,\r\n};\r\n","import {\r\n  getnotTodayDate,\r\n} from '../helpers/getDate';\r\n\r\nexport default function renderThreeDaysWeatherBlock(weather) {\r\n  const threeDaysBlock = document.createElement('div');\r\n  threeDaysBlock.className = 'three-days flex-row';\r\n\r\n  for (let i = 0; i < 3; i += 1) {\r\n    const day = renderAnotherDayWeatherBlocks(weather, i);\r\n    threeDaysBlock.appendChild(day);\r\n  }\r\n\r\n  return threeDaysBlock;\r\n}\r\n\r\nfunction renderAnotherDayWeatherBlocks(weather, i) {\r\n  const day = document.createElement('div');\r\n  day.className = 'day';\r\n\r\n  const dayHeader = document.createElement('p');\r\n  dayHeader.className = 'day__header';\r\n  dayHeader.innerHTML = getnotTodayDate('ru', 'dddd', i);\r\n\r\n  const dayTemp = document.createElement('div');\r\n  dayTemp.className = 'day__temp flex-row';\r\n\r\n  const dayPicture = document.createElement('img');\r\n  dayPicture.className = 'day__picture';\r\n  dayPicture.src = weather.day[i].icon; // arg\r\n\r\n  const dayDeg = document.createElement('p');\r\n  dayDeg.innerHTML = `${weather.day[i].temp}°`; // arg\r\n\r\n  dayTemp.appendChild(dayPicture);\r\n  dayTemp.appendChild(dayDeg);\r\n\r\n  day.appendChild(dayHeader);\r\n  day.appendChild(dayTemp);\r\n  return day;\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-undef */\r\nexport default class Map {\r\n  static renderMap(coord) {\r\n    ymaps.ready(init);\r\n\r\n    function init() {\r\n      const myMap = new ymaps.Map('map', {\r\n        center: [coord[0], coord[1]],\r\n        zoom: 10,\r\n      }, {\r\n        searchControlProvider: 'yandex#search',\r\n      });\r\n    }\r\n  }\r\n}\r\n","export default async function translate(str, direction) {\r\n  const key = 'trnsl.1.1.20191211T144223Z.7a1427617ca5d436.b141f0308516674b1674a282f84cba92b8837d84';\r\n\r\n  const url = `https://translate.yandex.net/api/v1.5/tr.json/translate?key=${key}&lang=${direction}&text=${str}`;\r\n  const response = await fetch(url)\r\n    .then(res => res.json())\r\n    .then(data => data);\r\n\r\n  return response.text[0];\r\n}\r\n","import renderHeader from './HeaderView';\r\nimport renderSpeechBtn from './SpeechBtnView';\r\n\r\nimport renderTodayWeatherBlock from './TodayWeatherView';\r\nimport renderThreeDaysWeatherBlock from './ThreeDayWeatherView';\r\nimport Map from './MapView';\r\nimport renderCoordBlock from './CoordView';\r\n\r\nimport getLangMap from '../lang/getLangMap';\r\nimport translate from '../helpers/translate';\r\n\r\nexport default class AppView {\r\n  constructor(imageUrl, country, city, date, weather, coord, timezome, lang) {\r\n    this.country = country;\r\n    this.city = city;\r\n    this.imageUrl = imageUrl;\r\n    this.date = date;\r\n    this.weather = weather;\r\n    this.coord = coord;\r\n    this.timezome = timezome;\r\n    this.lang = lang;\r\n    this.langMap = {};\r\n  }\r\n\r\n  static initPage() {\r\n    const preload = document.createElement('div');\r\n    preload.className = 'preloader';\r\n    preload.innerHTML = '<div class=\"b-ico-preloader\"></div><div class=\"spinner\"></div>';\r\n    document.body.appendChild(preload);\r\n\r\n    const wrap = document.createElement('div');\r\n    wrap.className = 'wrap';\r\n\r\n    wrap.appendChild(renderHeader());\r\n    document.body.appendChild(wrap);\r\n    renderSpeechBtn();\r\n  }\r\n\r\n  static clearPage() {\r\n    const main = document.querySelector('.main');\r\n    if (main) {\r\n      main.remove();\r\n    }\r\n  }\r\n\r\n  static clearWeather() {\r\n    const weather = document.querySelector('.weather');\r\n    if (weather) {\r\n      weather.remove();\r\n    }\r\n  }\r\n\r\n  async changeLang(lang) {\r\n    this.langMap = await getLangMap(lang);\r\n\r\n    const inputSearch = document.querySelector('.search-input');\r\n    inputSearch.placeholder = this.langMap.placeholder;\r\n\r\n    const btnSearch = document.querySelector('.search');\r\n    btnSearch.innerHTML = this.langMap.btn;\r\n\r\n\r\n    const twCity = document.querySelector('.today-weather__city');\r\n    const nameCity = await translate(twCity.innerHTML, lang);\r\n    twCity.innerHTML = nameCity;\r\n\r\n    const twTime = document.querySelector('.today-weather__date');\r\n    twTime.innerHTML = await translate(twTime.innerHTML, lang);\r\n\r\n    let dayHeder = document.querySelectorAll('.day__header');\r\n    dayHeder = Array.prototype.slice.call(dayHeder);\r\n    dayHeder.forEach(async (el) => {\r\n      // eslint-disable-next-line no-param-reassign\r\n      el.innerHTML = await translate(el.innerHTML, lang);\r\n    });\r\n\r\n\r\n    const feels = document.querySelector('.feels');\r\n    feels.innerHTML = `${this.langMap.feels} ${this.weather.feels}°`;\r\n    const wind = document.querySelector('.wind');\r\n    wind.innerHTML = `${this.langMap.wind} ${this.weather.wind} ${this.langMap.windspeed}`;\r\n    const humidity = document.querySelector('.humidity');\r\n    humidity.innerHTML = `${this.langMap.humidity} ${this.weather.humidity}%`;\r\n\r\n    const lat = document.querySelector('.lat');\r\n    lat.innerHTML = `${this.langMap.lat} ${this.coord[0]}`;\r\n    const lon = document.querySelector('.lon');\r\n    lon.innerHTML = `${this.langMap.lon} ${this.coord[1]}`;\r\n\r\n    return true;\r\n  }\r\n\r\n\r\n  static refreshBackgroundImg(imageUrl) {\r\n    const wrap = document.querySelector('.wrap');\r\n    wrap.style.backgroundImage = `url(${imageUrl})`;\r\n  }\r\n\r\n  static refreshTime(time) {\r\n    const twTime = document.querySelector('.today-weather__time');\r\n    twTime.innerHTML = time;\r\n  }\r\n\r\n  static renderError(msg) {\r\n    AppView.clearPage();\r\n    const header = document.querySelector('header');\r\n    header.remove();\r\n    const wrap = document.querySelector('.wrap');\r\n    wrap.remove();\r\n\r\n\r\n    const error = document.createElement('div');\r\n    error.className = 'error flex-column';\r\n\r\n\r\n    const errorHearer = document.createElement('h2');\r\n    errorHearer.innerHTML = 'Something wrong. Please, restart page';\r\n    const errorMessage = document.createElement('p');\r\n    errorMessage.innerHTML = msg;\r\n\r\n    error.appendChild(errorHearer);\r\n    error.appendChild(errorMessage);\r\n\r\n    document.body.appendChild(error);\r\n\r\n    const preload = document.querySelector('.preloader');\r\n    preload.style.display = 'none';\r\n  }\r\n\r\n  renderPage() {\r\n    AppView.clearPage();\r\n\r\n    const wrap = document.querySelector('.wrap');\r\n    wrap.style.backgroundImage = `url(${this.imageUrl})`;\r\n    wrap.appendChild(this.renderMainBlock());\r\n    document.body.appendChild(wrap);\r\n    Map.renderMap(this.coord);\r\n\r\n    const preload = document.querySelector('.preloader');\r\n    preload.style.display = 'none';\r\n  }\r\n\r\n  renderWeather() {\r\n    AppView.clearWeather();\r\n\r\n    const main = document.querySelector('.main');\r\n    main.prepend(this.renderWeatherBlock());\r\n  }\r\n\r\n  renderMainBlock() {\r\n    const main = document.createElement('main');\r\n    main.className = 'main flex-row';\r\n\r\n    const location = document.createElement('div');\r\n    location.className = 'location flex-column';\r\n    const map = document.createElement('div');\r\n    map.id = 'map';\r\n    location.appendChild(map);\r\n    location.appendChild(renderCoordBlock(this.coord));\r\n\r\n    main.appendChild(this.renderWeatherBlock());\r\n    main.appendChild(location);\r\n    return main;\r\n  }\r\n\r\n  renderWeatherBlock() {\r\n    const weather = document.createElement('div');\r\n    weather.className = 'weather';\r\n\r\n    const todayWeather = renderTodayWeatherBlock(this);\r\n    const threeDaysBlock = renderThreeDaysWeatherBlock(this.weather);\r\n\r\n    weather.appendChild(todayWeather);\r\n    weather.appendChild(threeDaysBlock);\r\n\r\n    const location = document.createElement('div');\r\n    location.className = 'location';\r\n    const map = document.createElement('div');\r\n    map.id = 'map';\r\n    location.appendChild(map);\r\n\r\n    return weather;\r\n  }\r\n}\r\n","export default function renderHeader() {\r\n  const header = document.createElement('header');\r\n  header.className = 'header flex-row';\r\n\r\n  const leftControls = document.createElement('div');\r\n  leftControls.className = 'left-controls';\r\n\r\n  const updateImg = document.createElement('a');\r\n  updateImg.className = 'button update-img';\r\n\r\n  const langs = document.createElement('select');\r\n  langs.className = 'button select-lang';\r\n  const lang1 = document.createElement('option');\r\n  const lang2 = document.createElement('option');\r\n  const lang3 = document.createElement('option');\r\n  lang2.innerHTML = 'ru';\r\n  lang1.innerHTML = 'en';\r\n  lang3.innerHTML = 'be';\r\n  langs.appendChild(lang1);\r\n  langs.appendChild(lang2);\r\n  langs.appendChild(lang3);\r\n\r\n  const btnTempC = document.createElement('a');\r\n  btnTempC.className = 'button button-cel non-right-radius active';\r\n  btnTempC.innerHTML = '&#8451;';\r\n\r\n  const btnTempF = document.createElement('a');\r\n  btnTempF.className = 'button button-fareg non-left-radius';\r\n  btnTempF.innerHTML = '&#8457;';\r\n\r\n  leftControls.appendChild(updateImg);\r\n  leftControls.appendChild(langs);\r\n  leftControls.appendChild(btnTempC);\r\n  leftControls.appendChild(btnTempF);\r\n\r\n  const rightControls = document.createElement('div');\r\n  rightControls.className = 'right-controls';\r\n\r\n  const inputSearch = document.createElement('input');\r\n  inputSearch.className = 'search-input speech-input';\r\n  inputSearch.type = 'text';\r\n  inputSearch.name = 'eng-input';\r\n  inputSearch.lang = 'en';\r\n  inputSearch.placeholder = 'Search city';\r\n\r\n  const btnSearch = document.createElement('a');\r\n  btnSearch.className = 'button search non-left-radius';\r\n  btnSearch.innerHTML = 'Search';\r\n\r\n\r\n  rightControls.appendChild(inputSearch);\r\n  rightControls.appendChild(btnSearch);\r\n\r\n  header.appendChild(leftControls);\r\n  header.appendChild(rightControls);\r\n\r\n  return header;\r\n}\r\n","export default function renderSpeechBtn() {\r\n  if (!('webkitSpeechRecognition' in window)) return;\r\n\r\n  const inputEl = document.querySelector('.speech-input');\r\n  let micBtn;\r\n  let micIcon;\r\n  let holderIcon;\r\n  let newWrapper;\r\n\r\n  const nextNode = inputEl.nextSibling;\r\n  const parent = inputEl.parentNode;\r\n  const inputRightBorder = parseInt(getComputedStyle(inputEl).borderRightWidth, 10);\r\n  const buttonSize = 0.8 * (inputEl.dataset.buttonsize || inputEl.offsetHeight);\r\n\r\n  let wrapper = inputEl.parentNode;\r\n  if (!wrapper.classList.contains('si-wrapper')) {\r\n    wrapper = document.createElement('div');\r\n    wrapper.classList.add('si-wrapper');\r\n    wrapper.appendChild(parent.removeChild(inputEl));\r\n    newWrapper = true;\r\n  }\r\n\r\n  // create mic button if not present\r\n  micBtn = wrapper.querySelector('.si-btn');\r\n  if (!micBtn) {\r\n    micBtn = document.createElement('button');\r\n    micBtn.type = 'button';\r\n    micBtn.classList.add('si-btn');\r\n    micBtn.textContent = 'speech input';\r\n    micIcon = document.createElement('span');\r\n    holderIcon = document.createElement('span');\r\n    micIcon.classList.add('si-mic');\r\n    holderIcon.classList.add('si-holder');\r\n    micBtn.appendChild(micIcon);\r\n    micBtn.appendChild(holderIcon);\r\n    wrapper.appendChild(micBtn);\r\n\r\n    // size and position mic and input\r\n    micBtn.style.cursor = 'pointer';\r\n    micBtn.style.top = `${0.125 * buttonSize}px`;\r\n    micBtn.style.height = micBtn.style.width;\r\n    micBtn.style.height = `${buttonSize}px`;\r\n    inputEl.style.paddingRight = `${buttonSize - inputRightBorder}px`;\r\n  }\r\n  // append wrapper where input was\r\n  if (newWrapper) parent.insertBefore(wrapper, nextNode);\r\n}\r\n","import enMap from './lang-en.json';\r\nimport ruMap from './lang-ru.json';\r\nimport byMap from './lang-by.json';\r\n\r\nexport default async function getLangMap(lang) {\r\n  let path;\r\n  switch (lang) {\r\n    case 'en':\r\n      path = enMap;\r\n      break;\r\n    case 'ru':\r\n      path = ruMap;\r\n      break;\r\n    case 'be':\r\n      path = byMap;\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  const response = await fetch(path).then(res => res.json());\r\n\r\n  return response;\r\n}\r\n","export default function renderCoordBlock(coord) {\r\n  const coordBlock = document.createElement('div');\r\n  coordBlock.className = 'coord flex-row';\r\n\r\n  const latitude = document.createElement('p');\r\n  latitude.className = 'lat';\r\n  latitude.innerHTML = `Latitude: ${coord[0]}`;\r\n  const longitude = document.createElement('p');\r\n  longitude.className = 'lon';\r\n  longitude.innerHTML = `Longitude: ${coord[1]}`;\r\n\r\n  coordBlock.appendChild(latitude);\r\n  coordBlock.appendChild(longitude);\r\n  return coordBlock;\r\n}\r\n","import AppView from './AppView';\r\n\r\nimport './scss/main.scss';\r\n\r\nexport default AppView;\r\n","import AppView from '../views';\r\n\r\nexport default function parseWeather(response) {\r\n  let url = '';\r\n\r\n  try {\r\n    const i = randomInteger(0, response.photos.photo.length - 1);\r\n    url = `https://farm${response.photos.photo[i].farm}.static.flickr.com/${response.photos.photo[i].server}/${response.photos.photo[i].id}_${response.photos.photo[i].secret}_b.jpg`;\r\n  } catch (error) {\r\n    AppView.renderError(`${error}`);\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction randomInteger(min, max) {\r\n  const rand = min + Math.random() * (max + 1 - min);\r\n  return Math.floor(rand);\r\n}\r\n","/* eslint-disable no-console */\r\nexport default function checkStatus(res) {\r\n  if (res.status >= 200 && res.status < 300) {\r\n    return res;\r\n  }\r\n  console.log(` Failute fetch: ${res.statusText}`);\r\n  const error = new Error(res.statusText);\r\n  error.res = res;\r\n  throw error;\r\n}\r\n","import AppView from '../views';\r\n\r\nexport default function failureCallback(error, api) {\r\n  AppView.renderError(`${error} ${api}`);\r\n}\r\n","import Geo from './GeoModel';\r\nimport getTime from '../helpers/getTime';\r\nimport parseWeather from '../helpers/parseWeather';\r\nimport parseFlickrImg from '../helpers/parseFlickrImg';\r\nimport checkStatus from '../helpers/checkStatus';\r\nimport failureCallback from '../helpers/failureCallback';\r\n\r\nexport default class AppModel {\r\n  constructor(keys, lang) {\r\n    this.keys = keys;\r\n    this.imageUrl = 'https://farm66.static.flickr.com/65535/48691681313_d11a72d71e_b.jpg';\r\n    this.country = '';\r\n    this.city = '';\r\n    this.date = new Date();\r\n    this.timezone = '';\r\n    this.weather = {};\r\n    this.lang = lang;\r\n    this.timezome = '';\r\n  }\r\n\r\n\r\n  async getIP() {\r\n    const url = `https://ipinfo.io/json?token=${this.keys.ipToken}`;\r\n    const ipInfo = await fetch(url)\r\n      .then(res => checkStatus(res))\r\n      .then(res => res.json())\r\n      .then(data => data)\r\n      .catch(e => failureCallback(e, 'ipinfo'));\r\n\r\n    if (ipInfo) {\r\n      this.country = ipInfo.country;\r\n      this.city = ipInfo.city;\r\n    }\r\n  }\r\n\r\n  async getImage() {\r\n    const city = AppModel.getCity(this);\r\n    if (!city) return false;\r\n\r\n    const {\r\n      fallout,\r\n    } = this.weather;\r\n\r\n    const url = `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${this.keys.flirckKey}&tags=${city},${fallout}&tag_mode=all&per_page=50&content_type=1&format=json&nojsoncallback=1`;\r\n    const response = await fetch(url)\r\n      .then(res => checkStatus(res))\r\n      .then(res => res.json())\r\n      .then(data => data)\r\n      .catch(e => failureCallback(e, 'api.flickr'));\r\n\r\n    if (response.stat === 'ok' && response.photos.photo.length !== 0) {\r\n      this.imageUrl = parseFlickrImg(response);\r\n    }\r\n    return this.imageUrl;\r\n  }\r\n\r\n  async getWeather() {\r\n    const city = AppModel.getCity(this);\r\n    if (!city) {\r\n      this.weather.message = 'City is empty';\r\n      return false;\r\n    }\r\n\r\n    this.coord = await Geo.getGeoCoord(city);\r\n\r\n    if (this.coord) {\r\n      this.country = await Geo.getCountry(this.coord);\r\n      this.timezome = await getTime(this.coord);\r\n      this.city = city;\r\n    }\r\n\r\n    const url = `https://api.openweathermap.org/data/2.5/forecast?lat=${this.coord[0]}&lon=${this.coord[1]}&units=metric&APPID=${this.keys.openweathermapKey}`;\r\n\r\n    const response = await fetch(url)\r\n      .then(res => checkStatus(res))\r\n      .then(res => res.json())\r\n      .catch(e => failureCallback(e, 'api.openweathermap'));\r\n\r\n\r\n    if (response.cod !== '404') {\r\n      this.weather = parseWeather(response);\r\n    } else {\r\n      this.weather.message = response.message;\r\n    }\r\n    return this.weather;\r\n  }\r\n\r\n  static getQuery() {\r\n    const elem = document.querySelector('.search-input');\r\n    return elem.value;\r\n  }\r\n\r\n  static getCity(obj) {\r\n    let city = AppModel.getQuery();\r\n    if (!city) {\r\n      ({\r\n        city,\r\n      } = obj);\r\n    }\r\n    if (!city) return false;\r\n    return city;\r\n  }\r\n}\r\n","export default function parseWeather(response) {\r\n  const weather = {};\r\n  weather.icon = `https://openweathermap.org/img/wn/${response.list[0].weather[0].icon}@2x.png`;\r\n  weather.fallout = response.list[0].weather[0].main;\r\n  weather.temp = Math.round(response.list[0].main.temp);\r\n  weather.humidity = response.list[0].main.humidity;\r\n  weather.wind = Math.round(response.list[0].wind.speed);\r\n  weather.feels = Math.round(13.12 + 0.6215 * weather.temp\r\n    - 11.37 * (weather.wind ** 0.16)\r\n    + 0.3965 * weather.temp * (weather.wind ** 0.16));\r\n\r\n  weather.day = [];\r\n  // take temprature and icon at same time as now\r\n  for (let i = 0; i < 3; i += 1) {\r\n    const dayWeather = {};\r\n    dayWeather.icon = `https://openweathermap.org/img/wn/${response.list[i + 8].weather[0].icon}@2x.png`;\r\n    dayWeather.temp = Math.round(response.list[i + 8].main.temp);\r\n    weather.day.push(dayWeather);\r\n  }\r\n  return weather;\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-return-await */\r\n/* eslint-disable no-undef */\r\n/* eslint-disable new-cap */\r\nimport Geo from '../models/GeoModel';\r\nimport translate from './translate';\r\n\r\nexport default class VoiceRecognition {\r\n  constructor() {\r\n    this.SpeechRecognition = {};\r\n  }\r\n\r\n  startRecognizer(app) {\r\n    let result;\r\n\r\n    if ('webkitSpeechRecognition' in window) {\r\n      const recognition = new webkitSpeechRecognition();\r\n      this.SpeechRecognition = recognition;\r\n      recognition.lang = 'ru';\r\n\r\n      recognition.onresult = async (event) => {\r\n        result = event.results[event.resultIndex];\r\n        const inputEl = document.querySelector('.speech-input');\r\n        let nameCity = result[0].transcript;\r\n\r\n        if (nameCity.indexOf('.') !== -1) {\r\n          nameCity = nameCity.slice(0, nameCity.length - 1);\r\n        }\r\n        nameCity = await translate(nameCity, 'en');\r\n        inputEl.value = nameCity;\r\n\r\n        let coord;\r\n        if (nameCity !== '') {\r\n          coord = await Geo.getGeoCoord(nameCity);\r\n        }\r\n\r\n        if (coord) {\r\n          await app.reload();\r\n        }\r\n      };\r\n\r\n      recognition.onend = () => {};\r\n\r\n      recognition.start();\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import {\r\n  convertToFarengeit,\r\n  convertToCelsius,\r\n} from './helpers/convertTemp';\r\nimport App from './controllers/AppController';\r\nimport VoiceRecognition from './helpers/speech-input';\r\nimport Geo from './models/GeoModel';\r\n\r\nconst app = new App();\r\n\r\nconst inputQuery = document.querySelector('.search-input');\r\nconst submitQuery = document.querySelector('.search');\r\nconst updateImg = document.querySelector('.update-img');\r\nconst buttonTempFar = document.querySelector('.button-fareg');\r\nconst buttonTempCel = document.querySelector('.button-cel');\r\nconst selectLang = document.querySelector('.select-lang');\r\n\r\nselectLang.addEventListener('change', () => {\r\n  const selectedlang = selectLang.options[selectLang.selectedIndex].value;\r\n\r\n  app.changeLlang(selectedlang);\r\n});\r\n\r\nbuttonTempFar.addEventListener('click', () => {\r\n  if (!buttonTempFar.classList.contains('active')) {\r\n    buttonTempFar.classList.add('active');\r\n    buttonTempCel.classList.remove('active');\r\n    app.renderTemperature(convertToFarengeit);\r\n  }\r\n});\r\n\r\nbuttonTempCel.addEventListener('click', () => {\r\n  if (!buttonTempCel.classList.contains('active')) {\r\n    buttonTempCel.classList.add('active');\r\n    buttonTempFar.classList.remove('active');\r\n    app.renderTemperature(convertToCelsius);\r\n  }\r\n});\r\n\r\nupdateImg.addEventListener('click', () => {\r\n  app.refreshBackImg();\r\n});\r\n\r\ninputQuery.addEventListener('keydown', async (e) => {\r\n  if (e.keyCode === 13) {\r\n    btnResetActive();\r\n    const city = inputQuery.value;\r\n    let coord;\r\n    if (city !== '') {\r\n      coord = await Geo.getGeoCoord(city);\r\n    }\r\n\r\n    if (coord) {\r\n      await app.reload();\r\n    }\r\n  }\r\n});\r\n\r\nsubmitQuery.addEventListener('click', async () => {\r\n  btnResetActive();\r\n  const city = inputQuery.value;\r\n  let coord;\r\n  if (city !== '') {\r\n    coord = await Geo.getGeoCoord(city);\r\n  }\r\n\r\n  if (coord) {\r\n    await app.reload();\r\n  }\r\n});\r\n\r\nwindow.addEventListener('load', async () => {\r\n  const microphBtn = document.querySelector('.si-btn');\r\n  await app.reload();\r\n  setInterval(() => {\r\n    app.refreshTime.call(app);\r\n  }, 30000);\r\n\r\n  microphBtn.addEventListener('click', async (event) => {\r\n    btnResetActive();\r\n    event.preventDefault();\r\n\r\n    const inputEl = document.querySelector('.speech-input');\r\n    inputEl.value = '';\r\n\r\n    const speech = new VoiceRecognition();\r\n    speech.startRecognizer(app);\r\n  }, false);\r\n});\r\n\r\nfunction btnResetActive() {\r\n  buttonTempCel.classList.add('active');\r\n  buttonTempFar.classList.remove('active');\r\n  selectLang.selectedIndex = 0;\r\n}\r\n","import AppModel from '../models/AppModel';\r\nimport AppView from '../views';\r\nimport translate from '../helpers/translate';\r\nimport getTime from '../helpers/getTime';\r\n\r\nexport default class App {\r\n  constructor() {\r\n    this.keys = {\r\n      ipToken: '98caa5d632d865',\r\n      unplashAccessKey: '2dbae8af108d75a95a2de95cfc00ccf078729d65a3da4ee33dff81818d2c9c24',\r\n      openweathermapKey: '892f7c08f21962e4a589349f4dee67e9',\r\n      translateYandexKey: 'trnsl.1.1.20191211T144223Z.7a1427617ca5d436.b141f0308516674b1674a282f84cba92b8837d84',\r\n      flirckKey: '66ddecf3ddfc4c07a3c7d69bd7b74965',\r\n    };\r\n    AppView.initPage();\r\n    this.model = {};\r\n  }\r\n\r\n  async reload(lang) {\r\n    const model = new AppModel(this.keys, lang);\r\n    await model.getIP();\r\n    await model.getWeather();\r\n    await model.getImage();\r\n    if (model.city) {\r\n      model.city = await translate(model.city, 'en');\r\n    }\r\n\r\n    if (!model.weather.message) {\r\n      this.model = model;\r\n      const view = new AppView(\r\n        model.imageUrl,\r\n        model.country,\r\n        model.city,\r\n        model.date,\r\n        model.weather,\r\n        model.coord,\r\n        model.timezome,\r\n        model.lang,\r\n      );\r\n      view.renderPage();\r\n    }\r\n  }\r\n\r\n  async refreshBackImg() {\r\n    await this.model.getImage();\r\n    AppView.refreshBackgroundImg(this.model.imageUrl);\r\n  }\r\n\r\n  async refreshTime() {\r\n    AppView.refreshTime(await getTime(this.model.coord));\r\n  }\r\n\r\n  async changeLlang() {\r\n    const selectLang = document.querySelector('.select-lang');\r\n    const selectedlang = selectLang.options[selectLang.selectedIndex].value;\r\n    this.model.lang = selectedlang;\r\n    const view = new AppView(\r\n      this.model.imageUrl,\r\n      this.model.country,\r\n      this.model.city,\r\n      this.model.date,\r\n      this.model.weather,\r\n      this.model.coord,\r\n      this.model.timezome,\r\n      this.model.lang,\r\n    );\r\n    await view.changeLang(selectedlang);\r\n  }\r\n\r\n  renderTemperature(convert) {\r\n    this.model.weather.temp = convert(this.model.weather.temp);\r\n    this.model.weather.feels = convert(this.model.weather.feels);\r\n    for (let i = 0; i < 3; i += 1) {\r\n      this.model.weather.day[i].temp = convert(this.model.weather.day[i].temp);\r\n    }\r\n\r\n    const view = new AppView(\r\n      this.model.imageUrl,\r\n      this.model.country,\r\n      this.model.city,\r\n      this.model.date,\r\n      this.model.weather,\r\n      this.model.coord,\r\n      this.model.timezome,\r\n      this.model.lang,\r\n    );\r\n    view.renderWeather(this.model.weather);\r\n  }\r\n}\r\n"],"sourceRoot":""}